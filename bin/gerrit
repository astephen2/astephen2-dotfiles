#!/bin/bash
# Gerrit script

usage(){
  cat << EOF
  gerrit: Pushes up to gerrit

  OPTIONS:
    -h Show this message
    -b branch (defaults to master) - branch to push to
EOF
}

branch="master"

while getopts "b:h" OPTION; do
  case $OPTION in
    b) branch=${OPTARG} ;;
    h)
      usage
      exit 1
      ;;
    *)
      echo "Bad option"
      usage
      ;;
  esac
done

git push origin HEAD:refs/for/${branch} --recurse-submodules=no
